# User Story Mapping 가이드

## 개념

```
┌─────────────────────────────────────────────────────────────────┐
│  Backbone (사용자 활동 - 시간 순서)                              │
│  ┌─────────┬─────────┬─────────┬─────────┬─────────┐           │
│  │Activity1│Activity2│Activity3│Activity4│Activity5│           │
│  └────┬────┴────┬────┴────┬────┴────┬────┴────┬────┘           │
│       │         │         │         │         │                │
│       ▼         ▼         ▼         ▼         ▼                │
│  ═══════════════════════════════════════════════════════════   │
│  │  MVP (Walking Skeleton)                                 │   │
│  ═══════════════════════════════════════════════════════════   │
│  │  Phase 2                                                │   │
│  ───────────────────────────────────────────────────────────   │
│  │  Phase 3                                                │   │
│  ───────────────────────────────────────────────────────────   │
└─────────────────────────────────────────────────────────────────┘
```

**핵심**:
- 왼→오른: 시간 순서 (사용자 여정)
- 위→아래: 우선순위 (MVP 먼저)
- 수평 슬라이스 = 릴리즈 단위

---

## 작성 프로세스

### Step 1: Backbone 정의

사용자가 시스템을 사용하는 **큰 활동 단계** 나열.

```
예시 (에이전트 시스템):
시작 → 기획 → 구현 → 검증 → 완료

예시 (쇼핑몰):
탐색 → 선택 → 결제 → 배송 → 후기
```

### Step 2: 각 활동별 User Story

각 활동 아래에 구체적인 스토리 배치.

**User Story 형식**:
```
As a [역할]
I want to [기능]
So that [가치]
```

**간략 형식** (내부 프로젝트):
```
[ID] [기능 설명]
```

### Step 3: 우선순위 슬라이스

스토리를 수평으로 슬라이스:

| Layer | 기준 | 포함 내용 |
|-------|------|----------|
| **MVP** | 없으면 안 됨 | 핵심 기능만 |
| **Phase 2** | 있으면 좋음 | 편의 기능 |
| **Phase 3** | 나중에 | 고급 기능 |

**MVP 선정 기준**:
- 모든 Activity를 한 번씩 거칠 수 있나?
- 최소한의 가치를 전달하나?
- 가장 중요한 Pain Point를 해결하나?

### Step 4: MVP Validation Scenario

MVP를 검증할 구체적 시나리오 작성.

```
┌─────────────────────────────────────────────────────────────────┐
│                    MVP Validation                               │
├─────────────────────────────────────────────────────────────────┤
│  프로젝트: [프로젝트명]                                          │
│  태스크: [구체적 태스크]                                         │
│  성공 기준: [측정 가능한 기준]                                   │
│                                                                 │
│  검증 흐름:                                                      │
│  1. [Activity 1] ...                                            │
│  2. [Activity 2] ...                                            │
│  3. ...                                                         │
└─────────────────────────────────────────────────────────────────┘
```

---

## User Story 작성 팁

### ID 체계

```
[Activity 약자]-[번호]

예:
I-1: Initiate 첫 번째 스토리
P-2: Plan 두 번째 스토리
E-3: Execute 세 번째 스토리
```

### 좋은 User Story

```
✅ 좋음: "CLI에서 harness 명령으로 작업 시작"
✅ 좋음: "테스트 실패 시 자동 재시도"

❌ 나쁨: "좋은 UX 제공"
❌ 나쁨: "시스템 최적화"
```

### Acceptance Criteria

각 스토리에 완료 조건 명시:

```
I-1: CLI 실행

Acceptance Criteria:
- [ ] `harness "태스크"` 형태로 실행 가능
- [ ] 현재 디렉토리를 프로젝트 루트로 인식
- [ ] 에러 시 명확한 메시지 출력
```

---

## 문서 템플릿

```markdown
# User Story Mapping

## 1. Backbone

[활동1] → [활동2] → [활동3] → [활동4] → [활동5]

## 2. Story Map

### MVP
| 활동1 | 활동2 | 활동3 | 활동4 | 활동5 |
|-------|-------|-------|-------|-------|
| I-1   | P-1   | E-1   | V-1   | C-1   |
| I-2   | P-2   | E-2   | V-2   | C-2   |

### Phase 2
| 활동1 | 활동2 | 활동3 | 활동4 | 활동5 |
|-------|-------|-------|-------|-------|
| I-3   | P-3   | E-3   | V-3   | C-3   |

## 3. Story Details (MVP)

### I-1: [제목]
- **설명**: ...
- **Acceptance Criteria**:
  - [ ] ...

## 4. MVP Validation Scenario

[구체적 시나리오]
```

---

## 주의사항

1. **모든 Activity 커버** - MVP가 한 Activity만 하면 안 됨
2. **수직 아닌 수평** - Phase가 Feature별이 아닌 시간순
3. **검증 가능** - 각 스토리가 테스트 가능해야
4. **독립적** - 스토리 간 의존성 최소화
